2025-12-30 19:18:35.454 -05:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-30 19:18:35.506 -05:00 [INF] Starting database seeding...
2025-12-30 19:18:35.712 -05:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-12-30 19:18:36.034 -05:00 [INF] Executed DbCommand (27ms) [Parameters=[@normalizedName='TENANTADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.053 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@normalizedName='TENANTADMIN' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.127 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='528ce078-a782-4257-a692-f277f93a339d', @p1='f9f36f7e-d537-47d4-bf62-5fdfeaa36891' (Size = 4000), @p2='2025-12-31T00:18:36.0478680Z', @p3='Administrator with full access to tenant' (Nullable = false) (Size = 500), @p4='True', @p5='TenantAdmin' (Size = 256), @p6='TENANTADMIN' (Size = 256), @p7='00000000-0000-0000-0000-000000000000'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [shared].[Roles] ([Id], [ConcurrencyStamp], [CreatedDate], [Description], [IsSystemRole], [Name], [NormalizedName], [TenantId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-12-30 19:18:36.131 -05:00 [INF] Created system role: TenantAdmin
2025-12-30 19:18:36.142 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@normalizedName='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.143 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.147 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='b0896ff4-176a-4316-a44e-b4b9e98bc773', @p1='616f95f8-b648-406b-807d-b828a152e7ab' (Size = 4000), @p2='2025-12-31T00:18:36.1425610Z', @p3='Standard user with basic access' (Nullable = false) (Size = 500), @p4='True', @p5='User' (Size = 256), @p6='USER' (Size = 256), @p7='00000000-0000-0000-0000-000000000000'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [shared].[Roles] ([Id], [ConcurrencyStamp], [CreatedDate], [Description], [IsSystemRole], [Name], [NormalizedName], [TenantId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-12-30 19:18:36.147 -05:00 [INF] Created system role: User
2025-12-30 19:18:36.148 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.149 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedName='MANAGER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.151 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='049a391f-afd6-4202-afde-5bb72900e83d', @p1='0afb77eb-fdd6-4a33-b17e-4df967e22b08' (Size = 4000), @p2='2025-12-31T00:18:36.1486950Z', @p3='Manager with elevated privileges' (Nullable = false) (Size = 500), @p4='True', @p5='Manager' (Size = 256), @p6='MANAGER' (Size = 256), @p7='00000000-0000-0000-0000-000000000000'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [shared].[Roles] ([Id], [ConcurrencyStamp], [CreatedDate], [Description], [IsSystemRole], [Name], [NormalizedName], [TenantId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-12-30 19:18:36.151 -05:00 [INF] Created system role: Manager
2025-12-30 19:18:36.151 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='READONLY' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.152 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@normalizedName='READONLY' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedName
2025-12-30 19:18:36.154 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='f44d239c-5038-463c-a9ff-4fa3d30cf731', @p1='9e943486-3e37-423d-952e-e332f7f05030' (Size = 4000), @p2='2025-12-31T00:18:36.1520140Z', @p3='Read-only access user' (Nullable = false) (Size = 500), @p4='True', @p5='ReadOnly' (Size = 256), @p6='READONLY' (Size = 256), @p7='00000000-0000-0000-0000-000000000000'], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [shared].[Roles] ([Id], [ConcurrencyStamp], [CreatedDate], [Description], [IsSystemRole], [Name], [NormalizedName], [TenantId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-12-30 19:18:36.154 -05:00 [INF] Created system role: ReadOnly
2025-12-30 19:18:36.154 -05:00 [INF] Database seeding completed.
2025-12-30 19:18:36.176 -05:00 [INF] TenantContext initialized in SaaS mode
2025-12-30 19:18:36.180 -05:00 [INF] Registered 5 endpoints in 785 milliseconds.
2025-12-30 19:18:36.206 -05:00 [INF] No validators found in the system!
2025-12-30 19:18:36.215 -05:00 [INF] User profile is available. Using '/Users/pete/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-12-30 19:18:36.364 -05:00 [INF] Now listening on: https://localhost:5000
2025-12-30 19:18:36.364 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-30 19:18:36.364 -05:00 [INF] Hosting environment: Development
2025-12-30 19:18:36.364 -05:00 [INF] Content root path: /Users/pete/Development/Projects/WorkMngtSys/ApexAPI/Apex.API/src/Apex.API.Web
2025-12-30 19:19:52.080 -05:00 [INF] Request starting HTTP/2 POST https://localhost:5000/api/tenants/signup - application/json 136
2025-12-30 19:19:52.106 -05:00 [INF] Executing endpoint 'HTTP: POST /api/tenants/signup'
2025-12-30 19:19:52.138 -05:00 [INF] Validating command CreateTenantCommand
2025-12-30 19:19:52.139 -05:00 [INF] Found 1 validator(s) for CreateTenantCommand
2025-12-30 19:19:52.143 -05:00 [INF] Validation passed for CreateTenantCommand
2025-12-30 19:19:52.144 -05:00 [INF] Creating tenant: Company=Fresh Start Co, Subdomain=freshstart
2025-12-30 19:19:52.191 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[@subdomain='freshstart' (Size = 63)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CompanyName], [t].[CreatedDate], [t].[IsActive], [t].[LastModifiedDate], [t].[MaxRequestsPerMonth], [t].[MaxStorageGB], [t].[MaxUsers], [t].[Region], [t].[SchemaName], [t].[Status], [t].[Subdomain], [t].[Tier], [t].[TrialEndsDate]
FROM [shared].[Tenants] AS [t]
WHERE [t].[Subdomain] = @subdomain
2025-12-30 19:19:52.195 -05:00 [INF] DIAGNOSTIC: Tenant created in memory - Subdomain=freshstart, SchemaName=tenant_freshstart, SchemaNameIsNull=false
2025-12-30 19:19:52.223 -05:00 [INF] ðŸŽ‰ NEW TENANT CREATED! TenantId: "d951dbc8-689f-4ea9-bb99-b1443a2fa37c", Company: Fresh Start Co, Subdomain: freshstart, Schema: tenant_freshstart
2025-12-30 19:19:52.236 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='d951dbc8-689f-4ea9-bb99-b1443a2fa37c', @p1='Fresh Start Co' (Nullable = false) (Size = 200), @p2='2025-12-31T00:19:52.1948570Z', @p3='True', @p4=NULL (DbType = DateTime2), @p5='50', @p6='1', @p7='5', @p8='USEast' (Nullable = false) (Size = 50), @p9='tenant_freshstart' (Nullable = false) (Size = 100), @p10='1', @p11='freshstart' (Nullable = false) (Size = 63), @p12='0', @p13='2026-01-14T00:19:52.1948690Z' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [shared].[Tenants] ([Id], [CompanyName], [CreatedDate], [IsActive], [LastModifiedDate], [MaxRequestsPerMonth], [MaxStorageGB], [MaxUsers], [Region], [SchemaName], [Status], [Subdomain], [Tier], [TrialEndsDate])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-12-30 19:19:52.267 -05:00 [INF] Starting provisioning for tenant d951dbc8-689f-4ea9-bb99-b1443a2fa37c with schema tenant_freshstart
2025-12-30 19:19:52.286 -05:00 [INF] Created schema tenant_freshstart
2025-12-30 19:19:52.286 -05:00 [INF] Successfully provisioned tenant d951dbc8-689f-4ea9-bb99-b1443a2fa37c
2025-12-30 19:19:52.287 -05:00 [INF] Tenant created successfully: TenantId="d951dbc8-689f-4ea9-bb99-b1443a2fa37c", Subdomain=freshstart
2025-12-30 19:19:52.294 -05:00 [INF] Executed endpoint 'HTTP: POST /api/tenants/signup'
2025-12-30 19:19:52.297 -05:00 [INF] Request finished HTTP/2 POST https://localhost:5000/api/tenants/signup - 201 null application/json; charset=utf-8 217.7434ms
2025-12-30 19:20:17.725 -05:00 [INF] Request starting HTTP/2 POST https://freshstart.localhost:5000/api/users/register - application/json 91
2025-12-30 19:20:17.728 -05:00 [INF] Executing endpoint 'HTTP: POST /api/users/register'
2025-12-30 19:20:17.736 -05:00 [INF] Validating command RegisterUserCommand
2025-12-30 19:20:17.737 -05:00 [INF] Found 1 validator(s) for RegisterUserCommand
2025-12-30 19:20:17.737 -05:00 [INF] Validation passed for RegisterUserCommand
2025-12-30 19:20:17.740 -05:00 [INF] TenantContext initialized in SaaS mode
2025-12-30 19:20:17.741 -05:00 [INF] Registering user: Email=user@fresh.com, Tenant=00000000-0000-0000-0000-000000000000
2025-12-30 19:20:17.773 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@normalizedEmail='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail
2025-12-30 19:20:17.830 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@normalizedUserName='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @normalizedUserName
2025-12-30 19:20:17.832 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail
2025-12-30 19:20:17.860 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='08ae656c-ae46-4f6d-8594-fbc127348a20', @p1='0', @p2='15bd2732-7ac9-4cb8-b592-cf271c074a56' (Size = 4000), @p3='2025-12-31T00:20:17.7746180Z', @p4='user@fresh.com' (Size = 256), @p5='False', @p6='Test' (Nullable = false) (Size = 100), @p7='True', @p8=NULL (DbType = DateTime2), @p9=NULL (DbType = DateTime2), @p10='User' (Nullable = false) (Size = 100), @p11='True', @p12=NULL (DbType = DateTimeOffset), @p13='USER@FRESH.COM' (Size = 256), @p14='USER@FRESH.COM' (Size = 256), @p15='AQAAAAIAAYagAAAAEEMhUSlvUXrSJ0NfNB7hmoMHzMb8KhOsTDB/lNVd1iqvw3KTgKtaHY9WmwkguUBAXA==' (Size = 4000), @p16=NULL (Size = 4000), @p17='False', @p18=NULL (Size = 500), @p19='WTUCEYY4EJOOK6NENEAF45F2RCMANQ54' (Size = 4000), @p20='00000000-0000-0000-0000-000000000000', @p21=NULL (Size = 50), @p22='False', @p23='user@fresh.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [shared].[Users] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedDate], [Email], [EmailConfirmed], [FirstName], [IsActive], [LastLoginDate], [LastModifiedDate], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TenantId], [TimeZone], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-12-30 19:20:17.869 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@normalizedRoleName='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedRoleName
2025-12-30 19:20:17.901 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='08ae656c-ae46-4f6d-8594-fbc127348a20' (Nullable = true), @p0='b0896ff4-176a-4316-a44e-b4b9e98bc773' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [shared].[UserRoles] AS [u]
WHERE [u].[UserId] = @p AND [u].[RoleId] = @p0
2025-12-30 19:20:17.903 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedRoleName='USER' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[ConcurrencyStamp], [r].[CreatedDate], [r].[Description], [r].[IsSystemRole], [r].[Name], [r].[NormalizedName], [r].[TenantId]
FROM [shared].[Roles] AS [r]
WHERE [r].[NormalizedName] = @normalizedRoleName
2025-12-30 19:20:17.920 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@normalizedUserName='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @normalizedUserName
2025-12-30 19:20:17.927 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@normalizedEmail='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail
2025-12-30 19:20:17.955 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='b0896ff4-176a-4316-a44e-b4b9e98bc773', @p1='08ae656c-ae46-4f6d-8594-fbc127348a20', @p25='08ae656c-ae46-4f6d-8594-fbc127348a20', @p2='0', @p3='75f1f9bc-8a67-4b0a-bb18-3835b2d2b7b6' (Size = 4000), @p26='15bd2732-7ac9-4cb8-b592-cf271c074a56' (Size = 4000), @p4='2025-12-31T00:20:17.7746180Z', @p5='user@fresh.com' (Size = 256), @p6='False', @p7='Test' (Nullable = false) (Size = 100), @p8='True', @p9=NULL (DbType = DateTime2), @p10=NULL (DbType = DateTime2), @p11='User' (Nullable = false) (Size = 100), @p12='True', @p13=NULL (DbType = DateTimeOffset), @p14='USER@FRESH.COM' (Size = 256), @p15='USER@FRESH.COM' (Size = 256), @p16='AQAAAAIAAYagAAAAEEMhUSlvUXrSJ0NfNB7hmoMHzMb8KhOsTDB/lNVd1iqvw3KTgKtaHY9WmwkguUBAXA==' (Size = 4000), @p17=NULL (Size = 4000), @p18='False', @p19=NULL (Size = 500), @p20='WTUCEYY4EJOOK6NENEAF45F2RCMANQ54' (Size = 4000), @p21='00000000-0000-0000-0000-000000000000', @p22=NULL (Size = 50), @p23='False', @p24='user@fresh.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [shared].[UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [shared].[Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedDate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsActive] = @p8, [LastLoginDate] = @p9, [LastModifiedDate] = @p10, [LastName] = @p11, [LockoutEnabled] = @p12, [LockoutEnd] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [ProfileImageUrl] = @p19, [SecurityStamp] = @p20, [TenantId] = @p21, [TimeZone] = @p22, [TwoFactorEnabled] = @p23, [UserName] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2025-12-30 19:20:17.960 -05:00 [INF] User registered successfully: UserId="08ae656c-ae46-4f6d-8594-fbc127348a20", Email=user@fresh.com
2025-12-30 19:20:17.961 -05:00 [INF] Executed endpoint 'HTTP: POST /api/users/register'
2025-12-30 19:20:17.962 -05:00 [INF] Request finished HTTP/2 POST https://freshstart.localhost:5000/api/users/register - 201 null application/json; charset=utf-8 236.3851ms
2025-12-30 19:21:18.347 -05:00 [INF] Request starting HTTP/2 POST https://freshstart.localhost:5000/api/users/login - application/json 54
2025-12-30 19:21:18.350 -05:00 [INF] Executing endpoint 'HTTP: POST /api/users/login'
2025-12-30 19:21:18.357 -05:00 [INF] Validating command LoginCommand
2025-12-30 19:21:18.357 -05:00 [INF] Found 1 validator(s) for LoginCommand
2025-12-30 19:21:18.358 -05:00 [INF] Validation passed for LoginCommand
2025-12-30 19:21:18.361 -05:00 [INF] Login attempt: Email=user@fresh.com
2025-12-30 19:21:18.367 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@normalizedEmail='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail
2025-12-30 19:21:18.446 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[@userId='08ae656c-ae46-4f6d-8594-fbc127348a20'], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [shared].[UserRoles] AS [u]
INNER JOIN [shared].[Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @userId
2025-12-30 19:21:18.448 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedUserName='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedUserName] = @normalizedUserName
2025-12-30 19:21:18.449 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@normalizedEmail='USER@FRESH.COM' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedDate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastModifiedDate], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfileImageUrl], [u].[SecurityStamp], [u].[TenantId], [u].[TimeZone], [u].[TwoFactorEnabled], [u].[UserName]
FROM [shared].[Users] AS [u]
WHERE [u].[NormalizedEmail] = @normalizedEmail
2025-12-30 19:21:18.458 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p23='08ae656c-ae46-4f6d-8594-fbc127348a20', @p0='0', @p1='d1b1c93e-ca01-4b49-acc3-aafc944138ae' (Size = 4000), @p24='75f1f9bc-8a67-4b0a-bb18-3835b2d2b7b6' (Size = 4000), @p2='2025-12-31T00:20:17.7746180', @p3='user@fresh.com' (Size = 256), @p4='False', @p5='Test' (Nullable = false) (Size = 100), @p6='True', @p7='2025-12-31T00:21:18.4471690Z' (Nullable = true), @p8=NULL (DbType = DateTime2), @p9='User' (Nullable = false) (Size = 100), @p10='True', @p11=NULL (DbType = DateTimeOffset), @p12='USER@FRESH.COM' (Size = 256), @p13='USER@FRESH.COM' (Size = 256), @p14='AQAAAAIAAYagAAAAEEMhUSlvUXrSJ0NfNB7hmoMHzMb8KhOsTDB/lNVd1iqvw3KTgKtaHY9WmwkguUBAXA==' (Size = 4000), @p15=NULL (Size = 4000), @p16='False', @p17=NULL (Size = 500), @p18='WTUCEYY4EJOOK6NENEAF45F2RCMANQ54' (Size = 4000), @p19='00000000-0000-0000-0000-000000000000', @p20=NULL (Size = 50), @p21='False', @p22='user@fresh.com' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [shared].[Users] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedDate] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [IsActive] = @p6, [LastLoginDate] = @p7, [LastModifiedDate] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfileImageUrl] = @p17, [SecurityStamp] = @p18, [TenantId] = @p19, [TimeZone] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2025-12-30 19:21:18.468 -05:00 [INF] Login successful: UserId="08ae656c-ae46-4f6d-8594-fbc127348a20", Email=user@fresh.com
2025-12-30 19:21:18.471 -05:00 [INF] Executed endpoint 'HTTP: POST /api/users/login'
2025-12-30 19:21:18.471 -05:00 [INF] Request finished HTTP/2 POST https://freshstart.localhost:5000/api/users/login - 200 null application/json; charset=utf-8 124.5213ms
2025-12-30 19:22:52.924 -05:00 [INF] Application is shutting down...
